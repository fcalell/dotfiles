#!/usr/bin/env bash
# Install packages via pacman (Linux only)

set -e

echo "ðŸ“¦ Installing packages via pacman..."

# Update package database
sudo pacman -Sy

# Install official packages
if [ -f "$HOME/.config/packages.txt" ]; then
    sudo pacman -S --needed - < "$HOME/.config/packages.txt"
    echo "âœ“ Official packages installed"
else
    echo "âš  packages.txt not found"
fi

# Install AUR packages with paru
if command -v paru &>/dev/null; then
    if [ -f "$HOME/.config/packages-aur.txt" ]; then
        echo "ðŸ“¦ Installing AUR packages via paru..."
        paru -S --needed - < "$HOME/.config/packages-aur.txt"
        echo "âœ“ AUR packages installed"
    else
        echo "âš  packages-aur.txt not found"
    fi
else
    echo "âš  paru not found, skipping AUR packages"
fi

echo "âœ“ Package installation complete"
